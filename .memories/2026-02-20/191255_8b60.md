---
id: checkpoint_8b6096f6
timestamp: 2026-02-20T19:12:55.361Z
tags:
  - eros
  - docs-indexing
  - feature
  - tdd
git:
  branch: main
  commit: e2b59d0
  files:
    - .julie/.gitignore
    - .memories/2026-02-20/190733_8b49.md
    - python/eros/chunking.py
    - python/eros/retrieval.py
    - python/tests/test_chunking.py
    - uv.lock
summary: "## Implemented docs indexing for root-level files"
---

## Implemented docs indexing for root-level files

Eros was only discovering documentation in `docs/`, `doc/`, `documentation/` subdirectories. Root-level files like README.md and CLAUDE.md were invisible.

### Changes
- **`chunking.py`**: Added `chunk_doc_file()` (single file), `chunk_doc_files()` (file list), `discover_doc_sources()` (auto-discovery). Refactored `chunk_documentation()` to use `chunk_doc_file()` internally.
- **`retrieval.py`**: Updated `_build_index()` to use `discover_doc_sources()` — finds both directories and root-level doc files. Also handles explicit `doc_paths` that are files (not just dirs).
- **Tests**: 14 new tests across 4 test classes (TestChunkDocFile, TestChunkDocFiles, TestDiscoverDocSources). All 55 tests pass.

### Key decisions
- Root-level scan uses `iterdir()` (non-recursive) — won't pick up `.venv/` or `.git/` contents
- `discover_doc_sources` returns `(dirs, files)` tuple for clean separation
- Server needs restart for live testing

### Next: Server instructions and tool descriptions need major quality upgrade to match Julie/Goldfish standards
